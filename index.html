<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IMD Station Master Pro</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="light">
    <div class="app-container">
        <div class="header">
            <h2>Pranay MET App</h2>
            <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“ Theme</button>
        </div>

        <div class="section-container">
            <div class="section-title">Synoptic Observation</div>
            <div class="field">
                <label>Observation Time (UTC)</label>
                <select id="synopUTC" onchange="solveAll()">
                    <option value="00">00 Z</option>
                    <option value="03">03 Z</option>
                    <option value="06">06 Z</option>
                    <option value="09">09 Z</option>
                    <option value="12">12 Z</option>
                    <option value="15">15 Z</option>
                    <option value="18">18 Z</option>
                    <option value="21">21 Z</option>
                </select>
            </div>
        </div>

        <div class="section-container">
    <div class="section-title">Temperature Section</div>
    <div class="grid">
        <div class="field">
            <label>Dry Bulb (Â°C)</label>
            <input type="number" id="T_db" step="0.1" value="28.8" oninput="solveAll()">
        </div>
        <div class="field">
            <label>Wet Bulb (Â°C)</label>
            <input type="number" id="T_wb" step="0.1" value="19.6" oninput="solveAll()">
        </div>
    </div>
    <div class="results-card">
        <div class="res-row"><span>Dew Point (DP):</span> <span class="val" id="res-dp">--</span></div>
        <div class="res-row"><span>Humidity (RH):</span> <span class="val" id="res-rh">--</span></div>
        <div class="res-row"><span>Vapour Pressure (VP):</span> <span class="val" id="res-vp">--</span></div>
    </div>
</div>

<div class="section-container">
    <div class="section-title">Pressure & Sea Level</div>
    <div class="field">
        <label>Bar Temperature (K)</label>
        <input type="number" id="barT" step="0.1" value="292.5" oninput="solveAll()">
    </div>
    <div class="grid">
        <div class="field">
            <label>Station Level (SLP)</label>
            <input type="number" id="targetSLP" step="0.1" value="960.0" oninput="solveAll()">
        </div>
        <div class="field">
            <label>Prev. Day SLP</label>
            <input type="number" id="prevSLP" step="0.1" placeholder="Enter Yesterday" oninput="solveAll()">
        </div>
    </div>
    <div class="field">
        <label>Inst. Correction (C)</label>
        <input type="number" id="instrC" step="0.1" value="-0.3" oninput="solveAll()">
    </div>
    
    <div class="results-card highlight-box">
        <div class="res-row"><span>Table I Corr (Bar T):</span> <span class="val" id="res-table1">--</span></div>
        <div class="res-row"><span>Table II Corr (Dry B):</span> <span class="val" id="res-table2">--</span></div>
        <div class="res-row"><span>Instrument Reading (P):</span> <span class="val" id="res-instr-reading">--</span></div>
        <div class="res-row"><span>Sea Level (MSLP):</span> <span class="val" id="res-mslp">--</span></div>
        <div class="res-row main-result">
            <span>24h SLP Diff (P24):</span> 
            <span class="val" id="res-p24">--</span>
        </div>
    </div>
</div>

<div class="section-container">
    <div class="section-title">Wind Section</div>
    <div class="grid">
        <div class="field">
            <label>Current Reading</label>
            <input type="number" id="windCurrent" placeholder="e.g. 1234" oninput="solveAll()">
        </div>
        <div class="field">
            <label>Previous Reading</label>
            <input type="number" id="windPrevious" placeholder="e.g. 1000" oninput="solveAll()">
        </div>
    </div>
    <div class="results-card">
        <div class="wind-table">
            <div class="wind-header">0830 to 1730</div>
            <div class="wind-header">1730 to 0830</div>
            <div class="wind-header">0830 to 0830</div>
            
            <div class="wind-val" id="w-kmph-0817">--</div>
            <div class="wind-val" id="w-kmph-1708">--</div>
            <div class="wind-val" id="w-kmph-0808">--</div>
            
            <div class="wind-unit">(kmph)</div>
            <div class="wind-unit">(kmph)</div>
            <div class="wind-unit">(kmph)</div>

            <div class="wind-val" id="w-kt-0817">--</div>
            <div class="wind-val" id="w-kt-1708">--</div>
            <div class="wind-val" id="w-kt-0808">--</div>

            <div class="wind-unit">(kt)</div>
            <div class="wind-unit">(kt)</div>
            <div class="wind-unit">(kt)</div>
        </div>
    </div>
</div>

        <div class="section-container">
            <div class="section-title">Rain Section</div>
            <div class="grid">
                <div class="field">
                    <label>Rain since last observation (R) (000.0 mm)</label>
                    <input type="number" id="rainSinceLast" step="0.1" value="0.0" oninput="solveAll()">
                </div>
                <div class="field">
                    <label>Total Rain so far (Rtot) (000.0 mm)</label>
                    <input type="number" id="rainTotal" step="0.1" value="0.0" oninput="solveAll()">
                </div>
            </div>
            <div class="grid rain-03z-specific">
                <div class="field">
                    <label>24-hour Rain (R24) (000.0 mm)</label>
                    <input type="number" id="rain24hr" step="0.1" value="0.0" oninput="solveAll()">
                </div>
                <div class="field">
                    <label>Seasonal Rainfall (SRF) (000.0 mm)</label>
                    <input type="number" id="seasonalRainfall" step="0.1" value="0.0" oninput="solveAll()">
                </div>
            </div>
        </div>

        <button class="btn-primary" onclick="copyAll()">Copy All Data</button>
    </div>
    <script src="data.js"></script>
    <script src="logic.js"></script>
</body>
</html>